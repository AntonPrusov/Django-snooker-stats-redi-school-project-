{% extends 'base.html' %}

{% block title %}Players List{% endblock %}

{% block content %}
<h1 class="header center orange-text">Last Matches</h1>
<div class="row">
    <div class="col s12">
        <ul class="collection">
            {% for match in matches %}
                {% include 'match_detail.html' with match=match %}
            {% endfor %}
        </ul>
    </div>
</div>

<div class="row">
    <div class="col s12 center">
        <ul class="pagination">
            {% if matches.has_previous %}
                <li class="waves-effect">
                    <a href="?page=1">
                        <i class="material-icons">first_page</i>
                    </a>
                </li>
                <li class="waves-effect">
                    <a href="?page={{ matches.previous_page_number }}">
                        <i class="material-icons">chevron_left</i>
                    </a>
                </li>
            {% else %}
                <li class="disabled">
                    <a href="#">
                        <i class="material-icons">first_page</i>
                    </a>
                </li>
                <li class="disabled">
                    <a href="#">
                        <i class="material-icons">chevron_left</i>
                    </a>
                </li>
            {% endif %}
                
            {% for page_num in matches.paginator.page_range %}
                {% if matches.number == page_num %}
                    <li class="active"><a href="#">{{ page_num }}</a></li>
                {% elif page_num > matches.number|add:'-2' and page_num < matches.number|add:'2' %}
                    <li class="waves-effect"><a href="?page={{ page_num }}">{{ page_num }}</a></li>
                {% endif %}
            {% endfor %}

            {% if matches.has_next %}
                <li class="waves-effect">
                    <a href="?page={{ matches.next_page_number }}">
                        <i class="material-icons">chevron_right</i>
                    </a>
                </li>
                <li class="waves-effect">
                    <a href="?page={{ matches.paginator.num_pages }}">
                        <i class="material-icons">last_page</i>
                    </a>
                </li>
            {% else %}
                <li class="disabled">
                    <a href="#">
                        <i class="material-icons">chevron_right</i>
                    </a>
                </li>
                <li class="disabled">
                    <a href="#">
                        <i class="material-icons">last_page</i>
                    </a>
                </li>
            {% endif %}
        </ul>
        <span>Total pages amount: {{ matches.paginator.num_pages }}</span>
    </div>
</div>

{% endblock %}